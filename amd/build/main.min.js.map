{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["// import MyModal from 'block_class_material/add_material_modal';\n// import ModalFactory from 'core/modal_factory';\nimport $ from 'jquery';\nimport ModalForm from 'core_form/modalform';\nimport {getString} from 'core/str';\n\n\n\nexport const init = async (root) => {\n    console.log(root);\n    const triggerElement = document.querySelector('#add_material');\n    triggerElement.addEventListener('click', event => {\n        event.preventDefault();\n\n        const modalForm = new ModalForm({\n            modalConfig: {\n                title: getString('contactdataprotectionofficer', 'tool_dataprivacy'),\n            },\n            formClass: 'block_class_material\\\\form\\\\add_material',\n            saveButtonText: getString('save', 'block_class_material'),\n            returnFocus: triggerElement,\n        });\n\n        // Show a toast notification when the form is submitted.\n        modalForm.addEventListener(modalForm.events.SUBMIT_BUTTON_PRESSED, event => {\n            event.preventDefault();\n            $('input[name=\"cmid\"]').val(Number(root.data('course-module-id')))\n\n            if(modalForm.validateElements()) {\n                modalForm.submitFormAjax();\n            }\n        });\n\n        modalForm.show();\n\n    // const modal = await ModalFactory.create({\n    //     type: MyModal.TYPE,\n    //     isVerticallyCentered: true,\n    // });\n\n    // const addButton = $('#add_material');\n    // addButton.off();\n    // addButton.on('click', async () => {\n    //     modal.show();\n    // });\n    });\n};"],"names":["async","console","log","root","triggerElement","document","querySelector","addEventListener","event","preventDefault","modalForm","ModalForm","modalConfig","title","formClass","saveButtonText","returnFocus","events","SUBMIT_BUTTON_PRESSED","val","Number","data","validateElements","submitFormAjax","show"],"mappings":"wYAQoBA,MAAAA,OAChBC,QAAQC,IAAIC,YACNC,eAAiBC,SAASC,cAAc,iBAC9CF,eAAeG,iBAAiB,SAASC,QACrCA,MAAMC,uBAEAC,UAAY,IAAIC,mBAAU,CAC5BC,YAAa,CACTC,OAAO,kBAAU,+BAAgC,qBAErDC,UAAW,2CACXC,gBAAgB,kBAAU,OAAQ,wBAClCC,YAAaZ,iBAIjBM,UAAUH,iBAAiBG,UAAUO,OAAOC,uBAAuBV,QAC/DA,MAAMC,qCACJ,sBAAsBU,IAAIC,OAAOjB,KAAKkB,KAAK,sBAE1CX,UAAUY,oBACTZ,UAAUa,oBAIlBb,UAAUc"}